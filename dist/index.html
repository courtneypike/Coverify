<!doctype html>
<html>

<head>
  <title>Coverify</title>
  
  <link rel="stylesheet" href="./style.css">
  <link href="https://fonts.cdnfonts.com/css/they-call-me-lazy-thinbold" rel="stylesheet" crossorigin="anonymous">
  <link
    href='https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic|Droid+Serif:400,700,400italic,700italic'
    rel='stylesheet' type='text/css' crossorigin="anonymous">
    <link href="https://fonts.cdnfonts.com/css/rocket-pop?styles=33600" rel="stylesheet" type='text/css' crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="./html2canvas.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4098843948412144"
    crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width">
</head>

<body style="background-color:#fff8f8">
  
  <div class="container">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="font-family: 'They call me Lazy Thinbold', sans-serif;">
      <a class="navbar-brand" href="./index.html">Coverify</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="./index.html" >Spotify Magazine Cover<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="./index.html" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Other Pages
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" href="./problems.html">Common Problems</a>
              <a class="dropdown-item" href="./contact.html">Contact/About</a>
              <a class="dropdown-item" href="./privacy.html">Privacy Policy</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>

    <h1 id ="coverifyLogo">Coverify</h1>
    <h5 id ="coverifySubhead">Turn your music streaming history into a magazine cover</h5>

    <div id="login">
      <a href="/.netlify/functions/api/login" class="btn btn-primary" style="background-color:green">Log in with Spotify</a>
    </div>
    <div id="loggedin">
      <div id="termOptions" style ="align-content: center;">
        <button id="short_term" value="short_term" class ="button-37">Past Month</button>
        <button id="medium_term" value="medium_term" class ="button-37">Past 6 Months</button>
        <button id="long_term" value="long_term" class ="button-37">All Time</button>
      </div>
      <!-- begin magazine -->
      <div id="selectionsComplete">
      <div class = "paper">
        <div class="head container" id = "cover" style ="padding-right: 0px;padding-left: 0px;">
            <div id="user-profile" class = "funBorder">
              <div class="headerobjectswrapper" id = "wrapper">
                <script defer id="user-profile-template" type="text/x-handlebars-template">
                    <div class="future-cop">
                      <h3 class="future" id="mostListenedToGenre" style = "float: left;">
                      </h3>
                      <h3 class="cop" style="float: right">Times</h3>
                  </div>
                <div class ="row" style ="margin-right: 0px; margin-left: 0px">
                  <div class ="col" style ="margin-right: 0px; margin-left: 0px">
                  <div>
                    <a href ="{{this.external_urls.spotify}}" target="_blank">
                      <img id = "profilePic" src="{{images.0.url}}" class="box box3" crossorigin="anonymous">
                      </a>
                  </div>
                    </div>  
                  <div class ="col" style ="margin-right: 0px; margin-left: 0px; width:100%">
                    <p class= "all-about-name" id ="topGenresBox" style ="margin-bottom: 0"> 
                      <a href ="{{this.external_urls.spotify}}" target="_blank" style ="color: black; font-family:'Monoton', sans-serif; word-wrap:break-word">
                      {{display_name}}
                      </a>
                    </p>
                      <div class ="row" style="text-align: center; margin-right: 15px; margin-left: 15px; ">
                        <div class ="row" id ="topGenresBox"  style="padding: 10px">
                          <h3 id ="colHead" style="width:100%; padding: 5px">Most Listened to Genres
                            <div id="topGenres" style ="font-family: 'Monoton', sans-serif; font-weight: bold;">
                            </div>
                          </h3>
                        </div>
                      </div>
                      </div>
                    </div>
                </script> 
            </div>
          </div>
          <div id ="displayTerm" style ="margin-bottom: 0;">
          </div>  
        <div class="content" style="height:auto;">  
          <div class="collumns" style="height:auto;">
            <div class="collumn col" style="width:100%; padding-right: 5px;padding-left: 5px;">
              <div id ="colHead" style="color:black; font-size: 1rem; padding:5px">
                Tracks
              </div>  
              <div id="user-top-tracks">
                <script defer id="user-top-tracks-details" type="text/x-handlebars-template">
                <div class = "col" id="topTracksPopularity">
                </div>
              <h3 id ="colHead" style="color:black">Top 5 Tracks</h3>
                {{#topItemsInResults 0 5 items}}
                <figure style ="display:inline-block; margin-right: 0px; margin-left: 0px; padding:2px; margin: 0 0 0rem;">
                  <a href ="{{this.external_urls.spotify}}" target="_blank">
                    <img src="{{this.album.images.0.url}}" id ="covers" class="box box3">
                  </a>                 
                  <a href ="{{this.external_urls.spotify}}" target="_blank" style="color: black;">
                    <figcaption style="padding:2px"><b>{{this.name}}</b> {{this.artists.0.name}}</figcaption>
                </a>
                  {{/topItemsInResults}}
                </figure>
                </script>
                </div>
            </div>
            <div class="collumn col" style="width:100%;padding-right: 5px;padding-left: 5px;">
              <div id ="colHead" style="color:black; font-size: 1rem; padding:5px">
                Artists
              </div>  
              <div id="user-top-artists">
                <script defer id="user-top-artists-details" type="text/x-handlebars-template">
                      <div class = "col" id="topArtistsPopularity">
                      </div>
                    <h3 id ="colHead" style="color:black">
                      Top 5 Artists
                    </h3>
                    {{#topItemsInResults 0 5 items}}
                    <figure style ="display:inline-block; margin-right: 0px; margin-left: 0px; padding:2px; margin: 0 0 0rem;">
                      <a href ="{{this.external_urls.spotify}}" target="_blank">
                      <img src="{{this.images.0.url}}" id ="covers" class="box box3" style="float: right; transform: rotate(-4deg)">    
                      </a>               
                      <a href ="{{this.external_urls.spotify}}" target="_blank" style="color: black;">
                        <figcaption style="padding:2px"><b>{{this.name}}</b></figcaption>
                      </a>
                      {{/topItemsInResults}}
                    </figure>   
                </script>
              </div>
            </div>
            </div>
        </div>
    <div>
      <p id ="footer" style ="margin-bottom:0px"><span style="color:black;font-size:1rem;">Thank you! by </span>
        <a style="color:black;" href ="https://www.coverify-music.com/">coverify-music.com</a></p>
      <img src="./images/Spotify_Logo_RGB_Black.png" style="width:80px;height:auto"></img>
    </div>
  </div>
  </div>
  </div>

  <div id = "getNewToken">
    <script id="oauth-template" type="text/x-handlebars-template">
      <h2>oAuth info</h2>
          <dl class="dl-horizontal">
            <dt>Access token</dt><dd class="text-overflow">{{access_token}}</dd>
            <dt>Refresh token</dt><dd class="text-overflow">{{refresh_token}}</dd>
          </dl>
        </script>
    </div>
    <div id="oauth" style = "display: none;">
      <button class="btn btn-default" id="obtain-new-token">Obtain new token using the refresh token</button>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<div class="footer">
  <p><span>&#169</span> Coverify Developed by Courtney Pike <span>&#169</span><br>
  <a href="./index.html">Home Page</a> |
  <a href="./problems.html">Common Problems</a> |
  <a href="./contact.html">Contact/About</a> |
  <a href="./privacy.html">Privacy Policy</a></p>
  <img src="./images/Spotify_Logo_RGB_Black.png" style="width:80px;height:auto"></img>
</div>
  </div>
</body>

<!-- All JavaScript files -->
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="./apiCalls.js"></script>
<script src="./handleJSON.js"></script>
<script src="./helperFunctions.js"></script>
<script src="./documentOnload.js"></script>
<script src="./dom-to-image.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script>
  </script>

</html>
